"use strict";angular.module("application",["ui.router","ct.ui.router.extras","oc.lazyLoad","oc.lazyLoad.uiRouterDecorator","pascalprecht.translate","ui.bootstrap","angular-growl","smart-table","restangular","ngCookies","components","cgBusy","ncy-angular-breadcrumb","schemaForm","ngMessages","ngStorage"]).run(["$rootScope","$state","$stateParams","$timeout","$window","$location",function(e,t,a){e.$state=t,e.$stateParams=a}]),angular.module("application").provider("OnDemandStateService",["appConfigProvider","_",function(e,t){var a=e.setContextConfiguration(),r=a.basePath,o={team:{name:"teamModule",files:[r+"teamModule/teamModule.js"]},player:{name:"playerModule",files:[r+"playerModule/playerModule.js"]}},n={debug:!0,loadedModules:["application"],modules:[{name:o.team.name,files:o.team.files},{name:o.player.name,files:o.player.files}]},l={app:{stateDef:{url:"/",controller:"ApplicationCtrl as application",templateProvider:["$templateCache",function(e){return e.get("application/tpl/layout.html")}],ncyBreadcrumb:{label:"Home page"},resolve:{loadModule:["$ocLazyLoad",function(e){return e.load("teamModule")}]}},futureStateDef:{}},"app.team":{stateDef:{url:"^/team","abstract":!0,controller:"TeamCtrl",templateProvider:["$templateCache",function(e){return e.get("teamModule/tpl/main.html")}],lazyModule:o.team.name,lazyFiles:o.team.files,lazyTemplateUrl:"teamModule/tpl/main.html",ncyBreadcrumb:{label:"Team"}},futureStateDef:{stateName:"app.team",urlPrefix:"/team",type:"ocLazyLoad",module:o.team.name}},"app.player":{stateDef:{url:"^/player","abstract":!0,lazyModule:o.player.name,lazyFiles:o.player.files,lazyTemplateUrl:"playerModule/tpl/main.html",controller:"PlayerCtrl",ncyBreadcrumb:{label:"Player"}},futureStateDef:{stateName:"app.player",urlPrefix:"/player",type:"ocLazyLoad",module:o.player.name}}},u=function(){var e=[];return angular.forEach(l,function(a){var r=a.futureStateDef;t.isEmpty(r)===!1&&e.push(r)}),e};return{$get:function(){return this},provideNavigation:function(){},getModuleStateConfiguration:function(){return n},routeStates:["$stateProvider",function(e){return e.state("app",l.app.stateDef).state("app.team",l["app.team"].stateDef).state("app.player",l["app.player"].stateDef)}],predefinedStates:["$q",function(e){var t=e.defer();return t.resolve(u()),t.promise}]}}]),angular.module("application").config(["$injector","$ocLazyLoadProvider","$futureStateProvider","OnDemandStateServiceProvider","RestangularProvider","$stateProvider","$httpProvider","$breadcrumbProvider","$urlRouterProvider","$locationProvider","appConfigProvider","growlProvider","Modernizr","_",function(e,t,a,r,o,n,l,u,i,s,c,p,d,m){{var f=c.getContextConfiguration();f.basePath}t.config(r.getModuleStateConfiguration()),p.globalDisableCountDown(!0),u.setOptions({includeAbstract:!1,template:"bootstrap3"}),i.otherwise("/"),d.history&&s.html5Mode(!0),o.setBaseUrl(f.resources.baseUrl+f.resources.endPoints.backendApi.path),o.setDefaultHeaders({"X-Requested-With":"XMLHttpRequest"}),o.addResponseInterceptor(function(e,t,a,r,o,n){return m.isObject(e)===!1&&"<"===e[0]&&(n.reject(e),console.log("restangular interceptor: not json:",e)),e}),o.addResponseInterceptor(function(e,t){var a;return"getList"===t?(a={},a=e._embedded,a.links=e._links,a.meta=e.meta):a=e,a}),e.invoke(r.routeStates);var g=["$q","$ocLazyLoad","futureState",function(e,t,a){var r=e.defer();return t.load(a.module).then(function(){r.resolve()},function(){r.reject()}),r.promise}];a.stateFactory("ocLazyLoad",g),a.addResolve(["$injector",function(e){return e.invoke(r.predefinedStates).then(function(e){angular.forEach(e,function(e){a.futureState(e)})})}])}]),angular.module("application").config(["$translateProvider","appConfigProvider",function(e,t){e.translations("en",{appName:"Angular Lazy Load Module Sample",crudCreateSuccess:"Successfully Created!",crudCreateFailure:"failed to create resource",crudUpdateSuccess:"Successfully edited!",crudUpdateFailure:"failed to edit"}),e.preferredLanguage(t.getLocale())}]),angular.module("application").controller("ApplicationCtrl",["$translate","$scope","TeamRepository",function(e,t,a){var r=this;r.teamCount=0,r.teamCollection=a.getList().then(function(e){return r.teamCount=e.data.length,r.teamCollection=e.data,r.teamCollection}),t.$watch(angular.bind(r,function(){return r.teamCount}),function(e){r.teamCount=e})}]);
angular.module("application").run(["$templateCache", function($templateCache) {$templateCache.put("application/tpl/layout.html","<nav class=\"navbar navbar-default navbar-fixed-top\">\n    <div class=\"container-fluid\">\n        <!-- Brand and toggle get grouped for better mobile display -->\n        <div class=\"navbar-header\">\n            <button type=\"button\" class=\"navbar-toggle collapsed\" data-toggle=\"collapse\" data-target=\"#bs-example-navbar-collapse-1\">\n                <span class=\"sr-only\">Toggle navigation</span>\n                <span class=\"icon-bar\"></span>\n                <span class=\"icon-bar\"></span>\n                <span class=\"icon-bar\"></span>\n            </button>\n            <a class=\"navbar-brand\" href=\"/\">{{\'appName\' | translate}}</a>\n        </div>\n        <div class=\"collapse navbar-collapse\" id=\"bs-example-navbar-collapse-1\">\n            <ul class=\"nav navbar-nav\">\n                <li><a href=\"/team/list\">Team List <span class=\"badge\">{{application.teamCount}}</span></a></li>\n                <li><a href=\"/player/list\">Player List</a></li>\n            </ul>\n        </div><!-- /.navbar-collapse -->\n    </div><!-- /.container-fluid -->\n</nav>\n<div class=\"container-fluid\"  ng-cloak>\n    <div class=\"row\">\n        <section data-ui-view>\n            <div class=\"row\">\n                <div class=\"col-lg-12\">\n                    <h2>Angular Lazy Loaded Module Sample Application</h2>\n                </div>\n            </div>\n\n            <div class=\"row\">\n                <div class=\"col-lg-12\">\n                    <p>The main goal is to demonstrate a lazy loading  implementations of angular modules</p>\n                    <ul>\n                        <li>Team Module is pre-loaded, <b>( <a href=\"/team/list\">{{application.teamCount}} teams found</a> )</b>\n                        <ul>\n                            <li ng-repeat=\"team in application.teamCollection\"><a href=\"/team/{{team.id}}\">{{team.name}}</a> </li>\n                        </ul></li>\n                        <li>Player Module is loaded on demand</li>\n                    </ul>\n                    <h3>Key Implementations:</h3>\n                    <ul>\n                        <li>ExpressJs REST API server</li>\n                        <li>Routes handled with <b>ui-router</b></li>\n                        <li>Lazy Loading handled with <b>ocLazyLoad</b> and <b>FuturState</b> plugins</li>\n                        <li>REST resources are handled with <b>Restangular</b> Service</li>\n                        <li>Forms generated and validated with <b>JSON schema</b></li>\n                        <li>Growl Notifications</li>\n                        <li>Gulp Build process with<ul>\n                            <li>SASS Compilation</li>\n                            <li>JS packaging (concat and uglify)</li>\n                            <li>NPM and Bower package dependencies</li>\n                            <li>LiveReload (broken)</li>\n                        </ul></li>\n                    </ul>\n                </div>\n            </div>\n        </section>\n    </div>\n</div>\n<div growl></div>\n");
$templateCache.put("application/tpl/loading.bounce.html","<div class=\"loading\"><div class=\"double-bounce1\"></div><div class=\"double-bounce2\"></div></div>\n");
$templateCache.put("application/tpl/loading.button.html","<span class=\"spinner\"><i class=\"icon-spin icon-refresh\"></i></span>\n<div class=\"cg-busy-button-spinner\">\n    <div class=\"bar1\"></div>\n    <div class=\"bar2\"></div>\n    <div class=\"bar3\"></div>\n    <div class=\"bar4\"></div>\n    <div class=\"bar5\"></div>\n    <div class=\"bar6\"></div>\n    <div class=\"bar7\"></div>\n    <div class=\"bar8\"></div>\n    <div class=\"bar9\"></div>\n    <div class=\"bar10\"></div>\n    <div class=\"bar11\"></div>\n    <div class=\"bar12\"></div>\n</div>\n");}]);